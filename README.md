# MinerU JSON to Markdown

> **âš ï¸ å…è´£å£°æ˜**  
> æœ¬é¡¹ç›®æ‰€æœ‰å†…å®¹ç”± AI ç”Ÿæˆï¼Œä»…ç»è¿‡ä½œè€…éƒ¨åˆ†åŠŸèƒ½æµ‹è¯•å¯ç”¨ã€‚å®é™…ä½¿ç”¨æ•ˆæœè¯·ä»¥æ‚¨çš„ä½¿ç”¨ä½“éªŒä¸ºå‡†ï¼Œä¸ä¿è¯æ‰€æœ‰åœºæ™¯ä¸‹å®Œå…¨å¯ç”¨ã€‚

å°† MinerU çš„ `layout.json` æ–‡ä»¶è½¬æ¢ä¸ºæ ¼å¼åŒ–çš„ Markdown æ–‡æ¡£ï¼Œæ”¯æŒåµŒå…¥å¼å›¾ç‰‡ã€åŸç”Ÿæ ‡é¢˜ã€å…¬å¼ç­‰ä¸°å¯Œæ ¼å¼ã€‚

ä¸­æ–‡ | [English](README.en.md)

## ğŸ“º ç¤ºä¾‹æ¼”ç¤º

<img src="./example.png" width = "300"  alt="example" align=center />

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- ğŸ“„ **å®Œæ•´çš„å—ç±»å‹æ”¯æŒ**
  - `title` - æ ‡é¢˜ï¼ˆåŸç”Ÿ Markdown `##` `###` æ ¼å¼ï¼Œé™„å¸¦ HTML é”šç‚¹ï¼‰
  - `text` - æ™®é€šæ–‡æœ¬ï¼ˆåŸç”Ÿ Markdown æ ¼å¼ï¼‰
  - `list` - åˆ—è¡¨ï¼ˆåŸç”Ÿ Markdown åˆ—è¡¨è¯­æ³•ï¼‰
  - `image` - å›¾ç‰‡ï¼ˆBase64 å†…è”åµŒå…¥ï¼‰
  - `table` - è¡¨æ ¼ï¼ˆHTML æ¸²æŸ“ï¼‰
  - `interline_equation` - è¡Œé—´å…¬å¼ï¼ˆLaTeX æˆ–å›¾ç‰‡ï¼‰
  - `index` - ç´¢å¼•å—

### é«˜çº§ç‰¹æ€§

- ğŸ“Š **ç®€æ´åˆ†é¡µ** - æ¯é¡µç»“å°¾æ˜¾ç¤ºé¡µç å’Œåˆ†éš”çº¿ï¼ˆä»…å±•ç¤ºï¼Œæ— è·³è½¬åŠŸèƒ½ï¼‰
- ğŸ¨ **ç®€æ´æ ·å¼** - æµ…è‰²å•è‰²èƒŒæ™¯è®¾è®¡ (#fafafa, #f8f8f8)
- ğŸ”¢ **è¡Œå†…å…¬å¼** - ä¿ç•™ `$...$` æ ¼å¼çš„è¡Œå†…æ•°å­¦å…¬å¼
- ğŸ“ **é¡µçœ‰é¡µè„šå¤„ç†**
  - `header` - é¡µçœ‰ï¼ˆæµ…è‰²æ ·å¼æ˜¾ç¤ºï¼‰
  - `page_footnote` - é¡µé¢è„šæ³¨ï¼ˆå¼•ç”¨å—æ ·å¼ï¼‰
  - `page_number` - é¡µç ï¼ˆè‡ªåŠ¨è¿‡æ»¤ï¼‰
- ğŸ–¼ï¸ **å›¾ç‰‡å¤„ç†** - è‡ªåŠ¨è½¬æ¢ä¸º Base64 å¹¶å†…è”åˆ° Markdown ä¸­
- ğŸ“ **è¡¨æ ¼æ”¯æŒ** - ä¿ç•™è¡¨æ ¼æ ‡é¢˜ã€è„šæ³¨ç­‰å®Œæ•´ä¿¡æ¯
- âœï¸ **åŸç”Ÿ Markdown ä¼˜å…ˆ** - æ ‡é¢˜ä½¿ç”¨åŸç”Ÿ `##` è¯­æ³•ï¼ŒHTML é”šç‚¹ä½œä¸ºéšè—å¯¼èˆªå…ƒç´ 

## ğŸ“¦ å®‰è£…ä¸ä½¿ç”¨

### TypeScript ç‰ˆæœ¬ (Bun)

#### å‰ç½®è¦æ±‚

- [Bun](https://bun.sh) >= 1.0.0

#### å®‰è£…ä¾èµ–

```bash
bun install
```

#### ä½¿ç”¨æ–¹æ³•

```bash
# åŸºæœ¬ç”¨æ³•
bun run src/index.ts <layout.jsonè·¯å¾„> [è¾“å‡ºæ–‡ä»¶.md]

# ç¤ºä¾‹
bun run src/index.ts layout.json output.md

# ç®€åŒ–ç‰ˆï¼ˆè¾“å‡ºæ–‡ä»¶åè‡ªåŠ¨æ¨æ–­ï¼‰
bun run src/index.ts layout.json
```

### Rust ç‰ˆæœ¬

#### å‰ç½®è¦æ±‚

- Rust >= 1.70ï¼ˆä»…å¼€å‘ç¼–è¯‘éœ€è¦ï¼‰

#### ç¼–è¯‘

```bash
cargo build --release
```

ç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶ä½äº `target/release/` ç›®å½•ï¼š

- Windows: `mineru-json-to-md.exe`
- Linux/macOS: `mineru-json-to-md`

#### ä½¿ç”¨æ–¹æ³•

**æ–¹å¼ 1ï¼šå‘½ä»¤è¡Œè¿è¡Œ**

```bash
# Windows
.\target\release\mineru-json-to-md.exe layout.json output.md

# Linux/macOS
./target/release/mineru-json-to-md layout.json output.md

# ç®€åŒ–ç‰ˆï¼ˆè¾“å‡ºæ–‡ä»¶åè‡ªåŠ¨æ¨æ–­ï¼‰
.\target\release\mineru-json-to-md.exe layout.json
```

**æ–¹å¼ 2ï¼šæ‹–æ”¾æ–‡ä»¶ï¼ˆæ¨èï¼‰**

- ç›´æ¥å°† `layout.json` æ–‡ä»¶æ‹–æ”¾åˆ° `mineru-json-to-md.exe` ä¸Š
- ä¼šåœ¨åŒç›®å½•è‡ªåŠ¨ç”ŸæˆåŒå `.md` æ–‡ä»¶

**å‘å¸ƒéƒ¨ç½²**

ç¼–è¯‘åçš„ exe æ–‡ä»¶å¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œæ— éœ€å®‰è£… Rust ç¯å¢ƒï¼š

1. å°† `target/release/mineru-json-to-md.exe` å¤åˆ¶åˆ°ä»»æ„ç›®å½•
2. ç›´æ¥åŒå‡»è¿è¡Œæˆ–æ‹–æ”¾ JSON æ–‡ä»¶åˆ° exe ä¸Š

#### å®‰è£…åˆ°ç³»ç»Ÿï¼ˆå¯é€‰ï¼‰

```bash
cargo install --path .
mineru-json-to-md layout.json output.md
```

## ğŸ“– è¾“å…¥æ ¼å¼

### MinerU Layout JSON ç»“æ„

```json
{
  "pdf_info": [
    {
      "page_idx": 0,
      "page_size": [595.0, 842.0],
      "para_blocks": [
        {
          "type": "title",
          "bbox": [x, y, x, y],
          "lines": [
            {
              "spans": [
                {
                  "type": "text",
                  "content": "æ ‡é¢˜æ–‡æœ¬"
                }
              ]
            }
          ]
        }
      ],
      "discarded_blocks": [
        {
          "type": "header",
          "lines": [...]
        }
      ]
    }
  ]
}
```

## ğŸ“ è¾“å‡ºæ ¼å¼

ç”Ÿæˆçš„ Markdown æ–‡æ¡£åŒ…å«ï¼š

1. **æ–‡æ¡£æ ·å¼** - å†…åµŒ CSS æ ·å¼ï¼Œç¡®ä¿åœ¨æ”¯æŒ HTML çš„ Markdown æ¸²æŸ“å™¨ä¸­æ­£ç¡®æ˜¾ç¤º
2. **é”šç‚¹å ä½ç¬¦** - é¡¶éƒ¨é”šç‚¹ `<div id="toc-top"></div>`ï¼ˆé¢„ç•™ç”¨äºæ‰©å±•ï¼‰
3. **åˆ†éš”çº¿** - æ–‡æ¡£å¼€å¤´çš„æ°´å¹³åˆ†éš”çº¿
4. **æ­£æ–‡å†…å®¹** - æŒ‰é¡µç é¡ºåºæ’åˆ—çš„æ‰€æœ‰å†…å®¹å—
5. **åˆ†é¡µæ ‡è®°** - æ¯é¡µç»“å°¾çš„ç®€æ´é¡µç æ˜¾ç¤ºï¼ˆ`--- ç¬¬ N é¡µ ---`ï¼‰
6. **åŸç”Ÿæ ‡é¢˜** - ä½¿ç”¨ `##` æˆ– `###` Markdown æ ‡é¢˜ï¼Œé™„å¸¦ `<a id="..."></a>` é”šç‚¹

### ç¤ºä¾‹è¾“å‡ºç»“æ„

```markdown
<style>...</style>

<div id="toc-top"></div>

---

<a id="toc-0-æ ‡é¢˜1"></a>

## æ ‡é¢˜ 1

æ­£æ–‡å†…å®¹...

---

## ç¬¬ 1 é¡µ

<a id="toc-5-æ ‡é¢˜2"></a>

## æ ‡é¢˜ 2

æ›´å¤šå†…å®¹...

---

## ç¬¬ 2 é¡µ
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

- âœ… å°† MinerU OCR è¯†åˆ«ç»“æœè½¬æ¢ä¸ºå¯è¯»çš„ Markdown æ–‡æ¡£
- âœ… ç”Ÿæˆç®€æ´æ¸…æ™°çš„å­¦æœ¯è®ºæ–‡/ä¹¦ç±æ–‡æ¡£
- âœ… ä¿ç•™åŸæ–‡æ¡£çš„å›¾ç‰‡ã€è¡¨æ ¼ã€å…¬å¼ç­‰å¤æ‚å…ƒç´ 
- âœ… éœ€è¦åµŒå…¥å¼å›¾ç‰‡ï¼ˆæ— éœ€å¤–éƒ¨æ–‡ä»¶ï¼‰çš„ Markdown æ–‡æ¡£
- âœ… ä¼˜å…ˆä½¿ç”¨åŸç”Ÿ Markdown è¯­æ³•ï¼Œæå‡å¯ç§»æ¤æ€§

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
mineru-json-to-md/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts         # TypeScript ç‰ˆæœ¬ä¸»æ–‡ä»¶
â”‚   â””â”€â”€ main.rs          # Rust ç‰ˆæœ¬ä¸»æ–‡ä»¶
â”œâ”€â”€ package.json         # Bun/Node.js é…ç½®
â”œâ”€â”€ Cargo.toml           # Rust é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json        # TypeScript é…ç½®
â”œâ”€â”€ README.md            # ä¸­æ–‡æ–‡æ¡£
â”œâ”€â”€ README.en.md         # è‹±æ–‡æ–‡æ¡£
â”œâ”€â”€ layout.json          # ç¤ºä¾‹è¾“å…¥æ–‡ä»¶
â””â”€â”€ example.png          # ç¤ºä¾‹æˆªå›¾
```

## ğŸ”§ æŠ€æœ¯æ ˆ

### TypeScript ç‰ˆæœ¬

- **è¿è¡Œæ—¶**: Bun
- **è¯­è¨€**: TypeScript
- **ä¾èµ–**: Node.js å†…ç½®æ¨¡å— (fs, path)

### Rust ç‰ˆæœ¬

- **è¯­è¨€**: Rust (Edition 2024)
- **ä¾èµ–**:
  - `serde` - JSON åºåˆ—åŒ–/ååºåˆ—åŒ–
  - `serde_json` - JSON è§£æ
  - `base64` - Base64 ç¼–ç 

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ™ è‡´è°¢

æœ¬å·¥å…·åŸºäº [MinerU](https://github.com/opendatalab/MinerU) é¡¹ç›®çš„è¾“å‡ºæ ¼å¼è®¾è®¡ã€‚

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ GitHub Issues è”ç³»ã€‚
